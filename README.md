Построение логической модели БД:

### Таблица Пациенты:
  Поля: ID_пациента, ФИО, телефон, дата рождения, паспортные данные, место жительства, номер медицинского страхового полиса, место работы, должность, дата последнего посещения.

![db](db.png)
  
### Таблица Врачи:
  Поля: ID_врача, ФИО, специальность, номер кабинета.
  
### Таблица Запись на приём:
  Поля: ID_записи, ID_пациента, ID_врача, дата, консультация, профосмотр, первичный осмотр, лечение.

## Связи между таблицами:

Пациенты и Запись на приём: Связь по ID_пациента.
Врачи и Запись на приём: Связь по ID_врача.
Добавление новой записи в таблицу (INSERT):

## sql

CREATE TABLE Пациенты (
    ID_пациента INT PRIMARY KEY,
    ФИО VARCHAR(100),
    телефон VARCHAR(20),
    дата_рождения DATE,
    паспортные_данные VARCHAR(50),
    место_жительства VARCHAR(150),
    номер_медицинского_полиса VARCHAR(50),
    место_работы VARCHAR(100),
    должность VARCHAR(50),
    дата_последнего_посещения DATE
);

-- Создание таблицы Врачи
CREATE TABLE Врачи (
    ID_врача INT PRIMARY KEY,
    ФИО VARCHAR(100),
    специальность VARCHAR(50),
    номер_кабинета VARCHAR(10)
);

-- Создание таблицы Записи на приём
CREATE TABLE Запись_на_прием (
    ID_записи INT PRIMARY KEY,
    ID_пациента INT,
    ID_врача INT,
    дата DATE,
    консультация BOOLEAN,
    профосмотр BOOLEAN,
    первичный_осмотр BOOLEAN,
    лечение BOOLEAN,
    FOREIGN KEY (ID_пациента) REFERENCES Пациенты(ID_пациента),
    FOREIGN KEY (ID_врача) REFERENCES Врачи(ID_врача)
);

INSERT INTO Запись_на_прием (ID_пациента, ID_врача, дата, консультация) 
VALUES (ID_Иванова, ID_Петрова, '2023-10-11', 'Первичный осмотр');


UPDATE Запись_на_прием
SET дата = '2023-10-15'
WHERE ID_пациента = (SELECT ID_пациента FROM Пациенты WHERE ФИО = 'Иванов Владимир Иванович')
  AND ID_врача = (SELECT ID_врача FROM Врачи WHERE ФИО = 'Петров Константин Константинович');

Выборка по пациенту Иванову в рамках профосмотра (SELECT):

SELECT *
FROM Запись_на_прием
WHERE ID_пациента = (SELECT ID_пациента FROM Пациенты WHERE ФИО = 'Иванов Владимир Иванович')
  AND дата BETWEEN '2021-11-01' AND '2021-11-15'
  AND профосмотр = TRUE;

Вывод списка пациентов врача Петрова на конкретную дату (SELECT):

SELECT П.ФИО, З.дата, З.цель_посещения
FROM Запись_на_прием З
JOIN Пациенты П ON З.ID_пациента = П.ID_пациента
WHERE З.ID_врача = (SELECT ID_врача FROM Врачи WHERE ФИО = 'Петров Константин Константинович')
  AND З.дата = '2023-10-11';
